'use strict';
/**
 * Function that connects to database using hdb or hana-client based on given flag
 * @param {boolean} usehdb use hdb client
 * @param {Object} credentials credentials to connect
 */
module.exports = function (usehdb, credentials) {
    if(usehdb) {
        const hdb = require('hdb');
        const connection = hdb.createClient(credentials);
        connection.on('error', (err) => {
            throw new Error(`Network connection error: ${err}`);
        });
        return connection;

    } else {
        const hana_client = require('@sap/hana-client');
        return hana_client.createConnection();
    }
};
