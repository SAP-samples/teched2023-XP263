'use strict';

const {ReadStream} = require('fs');
const {Readable} = require('stream');

/**
 * Asserts that the passed value is a string.
 * @param {any} value The value to check.
 * @returns {undefined} Returns nothing/undefined.
 * @throws Throws an error if the value is not a string.
 */
module.exports.isString = function(value){
  if (!(typeof value === 'string' || value instanceof String)){
    throw new Error(`Parameter does not have the right type. We expected a string. We found: ${  typeof value}`);
  }
};
/**
 * Asserts that the passed value is a either a number, a string or an array.
 * @param {any} value The value to check.
 * @returns {undefined} Returns nothing/undefined.
 * @throws Throws an error if the value is not a string/number/array.
 */

/* eslint-disable complexity */
module.exports.isNumberOrStringOrArray = function(value){
  if (!((typeof value === 'string' || typeof value === 'number') ||  (value instanceof String || value instanceof Number) || value instanceof Array)){
    throw new Error(`Parameter does not have the right type. We expected a string, number or array. We found: ${  typeof value}`);
  }
};
/**
 * Asserts that the passed value is file content, in the form of a Buffer, a ReadStream or an instance of Readable in general.
 * @param {any} value The value to check.
 * @returns {undefined} Returns nothing/undefined.
 * @throws Throws an error if the value is not a ReadStream or Buffer.
 */
module.exports.isContent = function(value){
  if (!(value === undefined || value instanceof ReadStream || value instanceof Buffer || value instanceof Readable || (typeof value.read === 'function' && typeof value.on === 'function'))){
    throw new Error(`Parameter does not have the right type. We expected a ReadStream or Buffer. We found: ${  typeof value}`);
  }
};
/* eslint-enable complexity */
